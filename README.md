# ุฏุณุชุงุฑ ููุดููุฏ ุฎุงุฏูุงู ุงุนุชฺฉุงู ๐๏ธ

ฺฉ ุงูพูฺฉุดู ูุจ ุจุฑุง ฺฉูฺฉ ุจู ูุฑุจุงู ู ุฎุงุฏูุงู ุงุนุชฺฉุงู ุฏุฑ ูุฏุฑุช ู ุฑุงูููุง ุงุฑุงู.

## ๐ ูพุดโูุงุฒูุง

- Node.js (ูุณุฎู 14 ุง ุจุงูุงุชุฑ)
- npm ุง yarn
- ุฏุณุชุฑุณ ุจู API ุจฺฉโุงูุฏ

## ๐ ุฑุงูโุงูุฏุงุฒ ุณุฑุน

### ูุฑุญูู 1: ูุตุจ ูุงุจุณุชฺฏโูุง

```bash
npm install
```

### ูุฑุญูู 2: ุชูุธู ูุชุบุฑูุง ูุญุท

ูุงู `.env.example` ุฑุง ฺฉูพ ฺฉูุฏ ู ูุงู ุขู ุฑุง `.env` ุจฺฏุฐุงุฑุฏ:

```bash
cp .env.example .env
```

ุณูพุณ ูุงู `.env` ุฑุง ุจุงุฒ ฺฉูุฏ ู ููุงุฏุฑ ุฑุง ูพุฑ ฺฉูุฏ:

```env
API_KEY=morabbiyane_eetekafe_nojavan
BASE_URL=https://selfclaude.flearning.ir/
API_ENDPOINT=chat/completions
```

### ูุฑุญูู 3: ุชููุฏ ูุงู config.js

ุงุฒ ูุชุบุฑูุง ูุญุทุ ูุงู `config.js` ุฑุง ุชููุฏ ฺฉูุฏ:

```bash
npm run build:config
```

ุง ุจู ุตูุฑุช ูุณุชูู:

```bash
node build-config.js
```

### ูุฑุญูู 4: ุงุฌุฑุง ุจุฑูุงูู

#### โญ ุฑูุด ูพุดููุงุฏ: ุงุณุชูุงุฏู ุงุฒ ุณุฑูุฑ Node.js

```bash
npm start
```

ุณุฑูุฑ ุฑู `http://localhost:3000` ุฑุงู ูโุงูุชุฏ.

**ูุฒุงุง:**
- โ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ `config.js` ุฑุง ุงุฒ ูุชุบุฑูุง ูุญุท ุชููุฏ ูโฺฉูุฏ
- โ ูุงุฒ ุจู ุงุฌุฑุง ุฏุณุชูุฑ `build-config.js` ูุณุช
- โ ูุฑ ุจุงุฑ ฺฉู ุณุฑูุฑ ุฑุงู ูโุงูุชุฏุ config ุจูโุฑูุฒ ูโุดูุฏ

#### ุฑูุดโูุง ุฏฺฏุฑ:

**ฺฏุฒูู 1: ุงุณุชูุงุฏู ุงุฒ Python**

```bash
# ุงุจุชุฏุง config.js ุฑุง ุชููุฏ ฺฉูุฏ
npm run build:config

# ุณูพุณ ุณุฑูุฑ Python ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ
python -m http.server 8000

# ุณูพุณ ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ:
# http://localhost:8000/etekaf.html
```

**ฺฏุฒูู 2: ุงุณุชูุงุฏู ุงุฒ Node.js (http-server)**

```bash
# ุงุจุชุฏุง config.js ุฑุง ุชููุฏ ฺฉูุฏ
npm run build:config

# ุณูพุณ ุณุฑูุฑ ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ
npx http-server -p 8000
```

**ฺฏุฒูู 3: ุงุณุชูุงุฏู ุงุฒ PHP**

```bash
# ุงุจุชุฏุง config.js ุฑุง ุชููุฏ ฺฉูุฏ
npm run build:config

# ุณูพุณ ุณุฑูุฑ PHP ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ
php -S localhost:8000
```

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

```
.
โโโ etekaf.html          # ูุงู ุงุตู ุงูพูฺฉุดู
โโโ config.js            # ูุงู ุชูุธูุงุช (ุงุฒ .env ุชููุฏ ูโุดูุฏ) โ๏ธ ูุจุงุฏ commit ุดูุฏ
โโโ config.js.example    # ููููู ูุงู ุชูุธูุงุช
โโโ .env                 # ูุชุบุฑูุง ูุญุท โ๏ธ ูุจุงุฏ commit ุดูุฏ
โโโ .env.example         # ููููู ูุชุบุฑูุง ูุญุท
โโโ build-config.js      # ุงุณฺฉุฑูพุช ุชููุฏ config.js
โโโ package.json         # ูุงุจุณุชฺฏโูุง Node.js
โโโ .gitignore          # ูุงูโูุง ูุงุฏุฏู ฺฏุฑูุชู ุดุฏู
โโโ README.md           # ุงู ูุงู
```

## ๐ง ุชูุธูุงุช ูพุดุฑูุชู

### ุชุบุฑ ูุฑูุช ุฏุฑุฎูุงุณุช API

ุงฺฏุฑ API ุจฺฉโุงูุฏ ุดูุง ุงุฒ ูุฑูุช ูุชูุงูุช ุงุณุชูุงุฏู ูโฺฉูุฏุ ูุงู `etekaf.html` ุฑุง ูุฑุงุด ฺฉูุฏ ู ุชุงุจุน `callGemini` ุฑุง ุชุบุฑ ุฏูุฏ.

### ุชุบุฑ Header ูุง ุฏุฑุฎูุงุณุช

ุฏุฑ ุชุงุจุน `callGemini`ุ ุจุฎุด `headers` ุฑุง ูุฑุงุด ฺฉูุฏ:

```javascript
headers: { 
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${apiKey}`  // ุง 'api-key': apiKey
}
```

### ุชุบุฑ ูุฑูุช ูพุงุณุฎ

ุงฺฏุฑ API ุดูุง ูพุงุณุฎ ุฑุง ุฏุฑ ูุฑูุช ุฏฺฏุฑ ุจุฑูโฺฏุฑุฏุงูุฏุ ุจุฎุด ุฎูุงูุฏู ูพุงุณุฎ ุฑุง ุฏุฑ ุชุงุจุน `callGemini` ุชุบุฑ ุฏูุฏ:

```javascript
const responseText = data.choices?.[0]?.message?.content || 
                   data.content || 
                   // ูุฑูุช ุฎุงุต API ุดูุง
```

## ๐ ุฑุงูโุงูุฏุงุฒ ุฑู ุณุฑูุฑ

ุจุฑุง ุฑุงูููุง ฺฉุงูู ู ุฏููุ ูุงู **[SETUP_GUIDE.md](SETUP_GUIDE.md)** ุฑุง ูุทุงูุนู ฺฉูุฏ.

### ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ ุณุฑูุฑ Node.js (ูพุดููุงุฏ) โญ

1. ุชูุงู ูุงูโูุง ุฑุง ุฑู ุณุฑูุฑ ุขูพููุฏ ฺฉูุฏ
2. `npm install` ุฑุง ุงุฌุฑุง ฺฉูุฏ
3. ูุชุบุฑูุง ูุญุท ุฑุง ุชูุธู ฺฉูุฏ (ูุงู `.env` ุง ูุชุบุฑูุง ุณุณุชู)
4. `npm start` ุฑุง ุงุฌุฑุง ฺฉูุฏ
5. (ุงุฎุชุงุฑ) ุงุฒ PM2 ุจุฑุง ูุฏุฑุช process ุงุณุชูุงุฏู ฺฉูุฏ

**ูุฒุงุง:**
- โ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ `config.js` ุฑุง ุงุฒ ูุชุบุฑูุง ูุญุท ุชููุฏ ูโฺฉูุฏ
- โ ูุงุฒ ุจู ุงุฌุฑุง ุฏุณุชูุฑ `build-config.js` ูุณุช

### ุฑูุด 2: ุณุฑูุฑ ุงุณุชุงุชฺฉ (Apache/Nginx)

1. ุชูุงู ูุงูโูุง ุฑุง ุฑู ุณุฑูุฑ ุขูพููุฏ ฺฉูุฏ
2. ูุงู `.env` ุฑุง ุจุง ููุงุฏุฑ ูุงูุน ูพุฑ ฺฉูุฏ
3. ุฏุณุชูุฑ `npm run build:config` ุฑุง ุงุฌุฑุง ฺฉูุฏ
4. ุงุฒ ฺฉ ูุจ ุณุฑูุฑ (Apache, Nginx) ุงุณุชูุงุฏู ฺฉูุฏ

### ุชูุธู ูุชุบุฑูุง ูุญุท

#### ุฏุฑ ูุงู `.env` (ูพุดููุงุฏ ุจุฑุง ุชูุณุนู):
```env
API_KEY=morabbiyane_eetekafe_nojavan
BASE_URL=https://selfclaude.flearning.ir/
API_ENDPOINT=chat/completions
PORT=3000
HOST=0.0.0.0
```

#### ุฏุฑ cPanel:
1. ุจู ุจุฎุด "Environment Variables" ุง "Setup Node.js App" ุจุฑูุฏ
2. ูุชุบุฑูุง ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:
   - `API_KEY` = `morabbiyane_eetekafe_nojavan`
   - `BASE_URL` = `https://selfclaude.flearning.ir/`
   - `API_ENDPOINT` = `chat/completions`
   - `PORT` = `3000`
   - `HOST` = `0.0.0.0`

#### ุฏุฑ ุณุฑูุฑ ูููฺฉุณ (SSH):
```bash
# ุฏุฑ ูุงู ~/.bashrc ุง ~/.profile ุงุถุงูู ฺฉูุฏ:
export API_KEY="morabbiyane_eetekafe_nojavan"
export BASE_URL="https://selfclaude.flearning.ir/"
export API_ENDPOINT="chat/completions"
export PORT="3000"
export HOST="0.0.0.0"

# ุณูพุณ:
source ~/.bashrc
```

#### ุฏุฑ Docker:
```dockerfile
ENV API_KEY=morabbiyane_eetekafe_nojavan
ENV BASE_URL=https://selfclaude.flearning.ir/
ENV API_ENDPOINT=chat/completions
ENV PORT=3000
ENV HOST=0.0.0.0
```

## ๐ ุงููุช

- โ๏ธ **ูุฑฺฏุฒ** ูุงู `.env` ุง `config.js` ุฑุง ุฏุฑ Git commit ูฺฉูุฏ
- โ ูุงู `.gitignore` ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- โ ุงุฒ HTTPS ุจุฑุง API ุงุณุชูุงุฏู ฺฉูุฏ
- โ API key ุฑุง ุฏุฑ ฺฉุฏ ุณูุช ฺฉูุงูุช ูุฑุงุฑ ูุฏูุฏ (ุงฺฏุฑ ููฺฉู ุงุณุชุ ุงุฒ ฺฉ ูพุฑูฺฉุณ ุงุณุชูุงุฏู ฺฉูุฏ)

## ๐ ุนุจโุงุจ

### ูุดฺฉู: "API key not configured"
- ุจุฑุฑุณ ฺฉูุฏ ูุงู `config.js` ูุฌูุฏ ุฏุงุฑุฏ
- ุจุฑุฑุณ ฺฉูุฏ ุฏุณุชูุฑ `npm run build:config` ุฑุง ุงุฌุฑุง ฺฉุฑุฏูโุงุฏ
- ุจุฑุฑุณ ฺฉูุฏ ูุงู `.env` ุฑุง ุงุฌุงุฏ ฺฉุฑุฏูโุงุฏ

### ูุดฺฉู: "CORS Error"
- API ุจฺฉโุงูุฏ ุจุงุฏ CORS ุฑุง ุจุฑุง ุฏุงููู ุดูุง ูุนุงู ฺฉูุฏ
- ุง ุงุฒ ฺฉ ูพุฑูฺฉุณ ุงุณุชูุงุฏู ฺฉูุฏ

### ูุดฺฉู: "404 Not Found"
- ุจุฑุฑุณ ฺฉูุฏ `BASE_URL` ู `API_ENDPOINT` ุฏุฑุณุช ูุณุชูุฏ
- ุจุง ุชู ุจฺฉโุงูุฏ ุจุฑุง endpoint ุตุญุญ ุชูุงุณ ุจฺฏุฑุฏ

## ๐ ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ุฏุงุฑุฏ:
1. ูุงฺฏโูุง ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ (F12)
2. Network tab ุฑุง ุจุฑุฑุณ ฺฉูุฏ ุชุง ุจุจูุฏ ุฏุฑุฎูุงุณุชโูุง ฺฺฏููู ุงุฑุณุงู ูโุดููุฏ
3. ุจุง ุชู ุจฺฉโุงูุฏ ุจุฑุง ูุฑูุช ุฏูู API ุชูุงุณ ุจฺฏุฑุฏ

## ๐ ุชุบุฑุงุช

### ูุณุฎู 1.0.0
- โ ูพุดุชุจุงู ุงุฒ ูุชุบุฑูุง ูุญุท
- โ ุงุชุตุงู ุจู API ุจฺฉโุงูุฏ ุณูุงุฑุด
- โ ุณุณุชู ุชููุฏ ุฎูุฏฺฉุงุฑ config.js

---

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุฑุง ุฎุงุฏูุงู ุงุนุชฺฉุงู**

